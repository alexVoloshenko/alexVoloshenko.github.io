{"version":3,"sources":["components/todo-list-item/index.js","components/todo-list-item/todo-list-item.js","components/todo-list/index.js","components/todo-list/todo-list.js","components/app/index.js","components/app/app.js","index.js"],"names":["TodoListItem","handleFocusOut","text","id","_this","props","updateState","axios","put","concat","name","then","res","data","ok","nModified","console","log","taskStags","task","this","dueDate","due_date","classBold","is_high_priority","Date","toDateString","tags","map","item","i","react_default","a","createElement","key","className","Fragment","Link","to","main_bundle_default","onFocusOut","estimated_effort","actual_effort","Component","TodoList","_ref","elements","todos","itemId","tableHeader","itemProps","Object","esm_extends","todo_list_item","assign","itemPage","colSpan","description","App","state","todoData","load","idChange","findIndex","setState","update","defineProperty","$set","_this2","get","tasks","_this3","BrowserRouter","Route","exact","path","component","components_todo_list","render","idTask","match","params","singleTask","find","parseInt","ReactDOM","app","document","getElementById"],"mappings":"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","file":"static/js/main.bc5f6553.chunk.js","sourcesContent":["import TodoListItem from './todo-list-item';\r\n\r\nexport default TodoListItem;","import React, {Component} from 'react';\r\nimport EditableLabel from 'react-inline-editing';\r\nimport axios from 'axios';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nexport default class TodoListItem extends Component {\r\n\r\n  //PUT request for API after change task name and focus out\r\n  handleFocusOut = (text, id) => {\r\n    this.props.updateState(this.props.id, text);\r\n\r\n    return axios.put(\r\n      `https://secure-springs-77898.herokuapp.com/tasks/${this.props.id}/`,\r\n      {id: this.props.id, name: text})\r\n      .then(res => {\r\n        if (res.data.ok && res.data.nModified) {\r\n          this.props.updateState(this.props.id, text);\r\n          console.log('Operation success');\r\n        }\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const task = this.props;\r\n    let dueDate = task.due_date;\r\n    let classBold = '';\r\n    if (task.is_high_priority) {\r\n      classBold = ' bold';\r\n    }\r\n    if (task.due_date) {\r\n      dueDate = new Date(task.due_date).toDateString();\r\n    } else {\r\n      dueDate = '';\r\n    }\r\n\r\n    let taskStags;\r\n    if (task.tags) {\r\n      taskStags = task.tags.map((item, i) => <span key={i} className=\"tags\">#{item}</span>);\r\n    }\r\n    return (\r\n      <React.Fragment>\r\n        <td>\r\n          <Link to={`/${this.props.id}`} className={`tasks-list__name${classBold}`}>\r\n            <EditableLabel\r\n              text={task.name}\r\n              onFocusOut={this.handleFocusOut}\r\n            />\r\n          </Link>\r\n          {taskStags}\r\n        </td>\r\n        <td><span className=\"tasks-list__dueDate\">{dueDate} </span></td>\r\n        <td><span className=\"tasks-list__estimated-effort\">{task.estimated_effort || ''}</span></td>\r\n        <td><span className=\"tasks-list__actual_effort\">{task.actual_effort}</span></td>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n","import TodoList from './todo-list';\r\n\r\nexport default TodoList;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport TodoListItem from '../todo-list-item';\r\n\r\nconst TodoList = ({todos, itemId, handleFocusOut, updateState}) => {\r\n  let elements;\r\n  const tableHeader = <tr>\r\n    <th>Name</th>\r\n    <th>End date</th>\r\n    <th>Rating</th>\r\n    <th>Spent time</th>\r\n  </tr>;\r\n\r\n  if (itemId) {\r\n    const {...itemProps} = todos;\r\n    return (\r\n      <div className=\"todo\">\r\n        <button className=\"task-list__home-button\">\r\n          <Link to={'/'}>Home</Link>\r\n        </button>\r\n        <table className=\"task-list\">\r\n\r\n          <tbody>\r\n          {tableHeader}\r\n          <tr key={todos.id}>\r\n            <TodoListItem\r\n              {...itemProps}\r\n              itemPage={true}\r\n              handleFocusOut={handleFocusOut}\r\n              updateState={updateState}/>\r\n          </tr>\r\n          <tr><td id=\"tasks-list__description\" colSpan={4}>{todos.description}</td></tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  } else {\r\n    elements = todos.map((item) => {\r\n      const {...itemProps} = item;\r\n      return (\r\n        <tr key={item.id}>\r\n          <TodoListItem\r\n            {...itemProps}\r\n          />\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <table className=\"task-list\">\r\n      <caption className=\"task-list__caption\">Todo list</caption>\r\n      <tbody>\r\n      {tableHeader}\r\n      {elements}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default TodoList;\r\n\r\n","import App from './app';\r\n\r\nexport default App;","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport update from 'immutability-helper';\r\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\r\n\r\nimport TodoList from '../todo-list';\r\n\r\n\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    todoData: [],\r\n    load: false\r\n  };\r\n\r\n  //Get request to API\r\n  componentDidMount() {\r\n    return axios.get(`https://secure-springs-77898.herokuapp.com/api/tasks/active/`)\r\n      .then(res => {\r\n        const tasks = res.data;\r\n        this.setState({todoData: tasks, load: true});\r\n        return res.data.ok;\r\n      });\r\n  }\r\n\r\n   // Update status after name was changed\r\n  updateState = (idChange, name) => {\r\n    console.log(idChange, name);\r\n    const i = this.state.todoData.findIndex((item, i) => {\r\n\r\n      return (item.id === idChange);\r\n    });\r\n    this.setState({\r\n      todoData: update(this.state.todoData, {[i]: {name: {$set: name}}})\r\n    })\r\n  };\r\n\r\n  render() {\r\n    const {todoData} = this.state;\r\n    if (this.state.load) {\r\n      return (\r\n        <Router>\r\n          <div className=\"todo-app\">\r\n            <Route exact path=\"/\" component={() => <TodoList todos={todoData}/>}/>\r\n            <Route exact\r\n                   path=\"/:id\"\r\n                   render={({match}) => {\r\n                     const idTask = match.params.id;\r\n                     const singleTask = todoData.find(item => item.id === parseInt(idTask));\r\n                     return (\r\n                       <TodoList\r\n                         todos={singleTask}\r\n                         itemId={idTask}\r\n                         handleFocusOut={ this.handleFocusOut }\r\n                         updateState={this.updateState} />\r\n                     );\r\n                   }} />\r\n          </div>\r\n        </Router>\r\n      )\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/app';\n\nimport './scss/style.scss';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}