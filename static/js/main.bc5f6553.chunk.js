(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(t,e,a){t.exports=a(57)},55:function(t,e,a){},57:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(22),s=a.n(c),o=a(23),l=a(6),u=a(7),i=a(11),d=a(8),m=a(12),p=a(9),E=a.n(p),h=a(24),f=a.n(h),b=a(59),k=a(60),O=a(14),_=a(58),v=a(25),g=a.n(v),j=function(t){function e(){var t,a;Object(l.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).handleFocusOut=function(t,e){return a.props.updateState(a.props.id,t),E.a.put("https://secure-springs-77898.herokuapp.com/tasks/".concat(a.props.id,"/"),{id:a.props.id,name:t}).then(function(e){e.data.ok&&e.data.nModified&&(a.props.updateState(a.props.id,t),console.log("Operation success"))})},a}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t,e=this.props,a=e.due_date,n="";return e.is_high_priority&&(n=" bold"),a=e.due_date?new Date(e.due_date).toDateString():"",e.tags&&(t=e.tags.map(function(t,e){return r.a.createElement("span",{key:e,className:"tags"},"#",t)})),r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,r.a.createElement(_.a,{to:"/".concat(this.props.id),className:"tasks-list__name".concat(n)},r.a.createElement(g.a,{text:e.name,onFocusOut:this.handleFocusOut})),t),r.a.createElement("td",null,r.a.createElement("span",{className:"tasks-list__dueDate"},a," ")),r.a.createElement("td",null,r.a.createElement("span",{className:"tasks-list__estimated-effort"},e.estimated_effort||"")),r.a.createElement("td",null,r.a.createElement("span",{className:"tasks-list__actual_effort"},e.actual_effort)))}}]),e}(n.Component),y=function(t){var e,a=t.todos,n=t.itemId,c=t.handleFocusOut,s=t.updateState,o=r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"End date"),r.a.createElement("th",null,"Rating"),r.a.createElement("th",null,"Spent time"));if(n){var l=Object(O.a)({},a);return r.a.createElement("div",{className:"todo"},r.a.createElement("button",{className:"task-list__home-button"},r.a.createElement(_.a,{to:"/"},"Home")),r.a.createElement("table",{className:"task-list"},r.a.createElement("tbody",null,o,r.a.createElement("tr",{key:a.id},r.a.createElement(j,Object.assign({},l,{itemPage:!0,handleFocusOut:c,updateState:s}))),r.a.createElement("tr",null,r.a.createElement("td",{id:"tasks-list__description",colSpan:4},a.description)))))}return e=a.map(function(t){var e=Object(O.a)({},t);return r.a.createElement("tr",{key:t.id},r.a.createElement(j,e))}),r.a.createElement("table",{className:"task-list"},r.a.createElement("caption",{className:"task-list__caption"},"Todo list"),r.a.createElement("tbody",null,o,e))},N=function(t){function e(){var t,a;Object(l.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={todoData:[],load:!1},a.updateState=function(t,e){console.log(t,e);var n=a.state.todoData.findIndex(function(e,a){return e.id===t});a.setState({todoData:f()(a.state.todoData,Object(o.a)({},n,{name:{$set:e}}))})},a}return Object(m.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;return E.a.get("https://secure-springs-77898.herokuapp.com/api/tasks/active/").then(function(e){var a=e.data;return t.setState({todoData:a,load:!0}),e.data.ok})}},{key:"render",value:function(){var t=this,e=this.state.todoData;return this.state.load?r.a.createElement(b.a,null,r.a.createElement("div",{className:"todo-app"},r.a.createElement(k.a,{exact:!0,path:"/",component:function(){return r.a.createElement(y,{todos:e})}}),r.a.createElement(k.a,{exact:!0,path:"/:id",render:function(a){var n=a.match.params.id,c=e.find(function(t){return t.id===parseInt(n)});return r.a.createElement(y,{todos:c,itemId:n,handleFocusOut:t.handleFocusOut,updateState:t.updateState})}}))):null}}]),e}(n.Component);a(55);s.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[27,2,1]]]);
//# sourceMappingURL=main.bc5f6553.chunk.js.map