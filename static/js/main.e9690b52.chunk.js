(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(59)},52:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(22),r=a.n(c),s=a(23),o=a(6),i=a(7),m=a(11),u=a(8),d=a(12),p=a(9),E=a.n(p),v=a(24),h=a.n(v),f=(a(52),function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"item-1"},l.a.createElement("div",null)),l.a.createElement("div",{className:"item-2"},l.a.createElement("div",null)),l.a.createElement("div",{className:"item-3"},l.a.createElement("div",null)),l.a.createElement("div",{className:"item-4"},l.a.createElement("div",null)),l.a.createElement("div",{className:"item-5"},l.a.createElement("div",null)),l.a.createElement("div",{className:"item-6"},l.a.createElement("div",null)),l.a.createElement("div",{className:"item-7"},l.a.createElement("div",null)),l.a.createElement("div",{className:"item-8"},l.a.createElement("div",null)),l.a.createElement("div",{className:"item-9"},l.a.createElement("div",null)))}),b=a(61),k=a(62),N=a(14),O=a(60),_=a(25),g=a.n(_),j=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).handleFocusOut=function(e,t){return a.props.updateState(a.props.id,e),E.a.put("https://secure-springs-77898.herokuapp.com/tasks/".concat(a.props.id,"/"),{id:a.props.id,name:e}).then(function(t){t.data.ok&&t.data.nModified&&(a.props.updateState(a.props.id,e),console.log("Operation success"))})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.due_date,n="";return t.is_high_priority&&(n=" bold"),a=t.due_date?new Date(t.due_date).toDateString():"",t.tags&&(e=t.tags.map(function(e,t){return l.a.createElement("span",{key:t,className:"tags"},"#",e)})),l.a.createElement(l.a.Fragment,null,l.a.createElement("td",null,l.a.createElement(O.a,{to:"/".concat(this.props.id),className:"tasks-list__name".concat(n)},l.a.createElement(g.a,{text:t.name,onFocusOut:this.handleFocusOut})),e),l.a.createElement("td",null,l.a.createElement("span",{className:"tasks-list__dueDate"},a," ")),l.a.createElement("td",null,l.a.createElement("span",{className:"tasks-list__estimated-effort"},t.estimated_effort||"")),l.a.createElement("td",null,l.a.createElement("span",{className:"tasks-list__actual_effort"},t.actual_effort)))}}]),t}(n.Component),y=function(e){var t,a=e.todos,n=e.itemId,c=e.handleFocusOut,r=e.updateState,s=l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"End date"),l.a.createElement("th",null,"Rating"),l.a.createElement("th",null,"Spent time"));if(n){var o=Object(N.a)({},a);return l.a.createElement("div",{className:"todo"},l.a.createElement("button",{className:"task-list__home-button"},l.a.createElement(O.a,{to:"/"},"Home")),l.a.createElement("table",{className:"task-list"},l.a.createElement("tbody",null,s,l.a.createElement("tr",{key:a.id},l.a.createElement(j,Object.assign({},o,{itemPage:!0,handleFocusOut:c,updateState:r}))),l.a.createElement("tr",null,l.a.createElement("td",{id:"tasks-list__description",colSpan:4},a.description)))))}return t=a.map(function(e){var t=Object(N.a)({},e);return l.a.createElement("tr",{key:e.id},l.a.createElement(j,t))}),l.a.createElement("table",{className:"task-list"},l.a.createElement("caption",{className:"task-list__caption"},"Todo list"),l.a.createElement("tbody",null,s,t))},S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={todoData:[],load:!1},a.updateState=function(e,t){console.log(e,t);var n=a.state.todoData.findIndex(function(t,a){return t.id===e});a.setState({todoData:h()(a.state.todoData,Object(s.a)({},n,{name:{$set:t}}))})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;return E.a.get("https://secure-springs-77898.herokuapp.com/api/tasks/active/").then(function(t){var a=t.data;return e.setState({todoData:a,load:!0}),t.data.ok})}},{key:"render",value:function(){var e=this,t=this.state.todoData;return this.state.load?l.a.createElement(b.a,null,l.a.createElement("div",{className:"todo-app"},l.a.createElement(k.a,{exact:!0,path:"/",component:function(){return l.a.createElement(y,{todos:t})}}),l.a.createElement(k.a,{exact:!0,path:"/:id",render:function(a){var n=a.match.params.id,c=t.find(function(e){return e.id===parseInt(n)});return l.a.createElement(y,{todos:c,itemId:n,handleFocusOut:e.handleFocusOut,updateState:e.updateState})}}))):l.a.createElement(f,null)}}]),t}(n.Component);a(57);r.a.render(l.a.createElement(S,null),document.getElementById("root"))}},[[27,2,1]]]);
//# sourceMappingURL=main.e9690b52.chunk.js.map